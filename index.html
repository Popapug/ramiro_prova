<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SAEP - Sistema de Controle de Estoque</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main id="app">
    <!-- Login -->
    <section id="login-section" class="card">
      <h2>Entrar no SAEP</h2>
      <form id="login-form">
        <label for="email">E-mail</label>
        <input id="email" type="email" required />
        <label for="password">Senha</label>
        <input id="password" type="password" required />
        <div class="actions">
          <button type="submit" class="btn primary">Entrar</button>
        </div>
      </form>
      <div id="login-message" class="message"></div>
    </section>

    <!-- App dashboard -->
    <section id="dashboard" class="hidden">
      <header class="topbar">
        <div>
          <h1>SAEP</h1>
          <div id="user-welcome">Olá, <span id="username-display"></span></div>
        </div>
        <div>
          <button id="btn-logout" class="btn">Logout</button>
        </div>
      </header>

      <nav class="tabs">
        <button data-view="home" class="tab active">Principal</button>
        <button data-view="products" class="tab">Cadastro de Produto</button>
        <button data-view="stock" class="tab">Gestão de Estoque</button>
      </nav>

      <section id="views">
        <!-- Home -->
        <div id="view-home" class="view active card">
          <h2>Painel Principal</h2>
          <p>Use o menu para navegar até Cadastro de Produto ou Gestão de Estoque.</p>
          <div id="low-stock-alerts"></div>
        </div>

        <!-- Products -->
        <div id="view-products" class="view hidden card">
          <h2>Cadastro de Produto</h2>

          <div class="row">
            <div class="col">
              <h3>Novo / Editar Produto</h3>
              <form id="product-form">
                <input type="hidden" id="product-id" />
                <label>Nome</label>
                <input id="product-name" required />
                <label>Marca</label>
                <input id="product-brand" />
                <label>Modelo</label>
                <input id="product-model" />
                <label>Quantidade Inicial</label>
                <input id="product-qty" type="number" min="0" value="0" required />
                <label>Estoque Mínimo</label>
                <input id="product-min" type="number" min="0" value="1" required />
                <label>Características (separadas por ; )</label>
                <input id="product-features" placeholder="ex: cabo madeira; 16 oz; perfil reto" />
                <div class="actions">
                  <button type="submit" class="btn primary">Salvar</button>
                  <button type="button" id="product-reset" class="btn">Limpar</button>
                </div>
              </form>
            </div>

            <div class="col">
              <h3>Lista de Produtos</h3>
              <label>Buscar</label>
              <input id="product-search" placeholder="Pesquisar por nome, marca ou modelo" />
              <table id="products-table">
                <thead>
                  <tr>
                    <th>Nome</th>
                    <th>Marca</th>
                    <th>Qtd</th>
                    <th>Min</th>
                    <th>Ações</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Stock -->
        <div id="view-stock" class="view hidden card">
          <h2>Gestão de Estoque</h2>
          <div class="row">
            <div class="col">
              <h3>Movimentação</h3>
              <form id="movement-form">
                <label>Produto</label>
                <select id="movement-product" required></select>
                <label>Tipo</label>
                <select id="movement-type" required>
                  <option value="entrada">Entrada</option>
                  <option value="saida">Saída</option>
                </select>
                <label>Quantidade</label>
                <input id="movement-qty" type="number" min="1" value="1" required />
                <label>Data</label>
                <input id="movement-date" type="date" required />
                <label>Responsável</label>
                <input id="movement-user" required />
                <div class="actions">
                  <button type="submit" class="btn primary">Registrar</button>
                </div>
              </form>
            </div>

            <div class="col">
              <h3>Produtos (ordenados alfabeticamente)</h3>
              <button id="refresh-sorted" class="btn">Ordenar (insertion sort)</button>
              <table id="stock-table">
                <thead>
                  <tr>
                    <th>Nome</th>
                    <th>Qtd</th>
                    <th>Min</th>
                    <th>Última Mov.</th>
                    <th>Ações</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>

              <h3>Histórico de Movimentações</h3>
              <table id="movement-history">
                <thead>
                  <tr>
                    <th>Produto</th>
                    <th>Tipo</th>
                    <th>Qtd</th>
                    <th>Data</th>
                    <th>Usuário</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </div>
        </div>

      </section>
    </section>
  </main>

  <script src="script.js"></script>
</body>
</html>